<div class="container py-5">
  <div class="row">
    <div [ngClass]="_decodedForm['jsfDef']?'col-12 col-md-6 mb-5 mb-md-0':'col-12 mb-0'">
      <pay-title-deco *ngIf="!Pay.MdBlock() && Pay.CollapsibleSections?.InformazioniDettaglioServizio" art-class="title-deco collapsible-title mb-5" [simple]="true"
                      [titolo]="Pay.I18n.json.DettaglioServizio.Titolo" data-toggle="collapse" data-target="#infoCollapse"
                      role="button"></pay-title-deco>
      <pay-title-deco *ngIf="Pay.MdBlock()" art-class="title-deco mb-5" [simple]="true" [titolo]="Pay.I18n.json.DettaglioServizio.Titolo"></pay-title-deco>
      <div id="infoCollapse" [class]="(!Pay.MdBlock() && Pay.CollapsibleSections?.InformazioniDettaglioServizio)?'collapse pb-5 pb-md-5':'pb-5 pb-md-5'">
        <img class="w-100 mb-4" [src]="_decodedForm['detail']['img']" alt="Immagine rappresentativa del servizio {{ _decodedForm['detail'][Pay.ALPHA_3_CODE]['name'] }}">
        <div class="mb-5 markdown-section" [payMarked]="_decodedForm['detail'][Pay.ALPHA_3_CODE]['long_description']"></div>
        <div class="container-fluid px-0">
          <div class="row">
            <div class="col-12">
              <pay-field-group *ngFor="let p of _decodedForm['detail'][Pay.ALPHA_3_CODE]['properties']" [breakpoint]="'sm'"
                               [label]="p.label" [value]="p.text" [link]="p.url" [cssClass]="p.url?'routable':''"></pay-field-group>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-12 col-md-6" *ngIf="_decodedForm['jsfDef']">
      <pay-title-deco art-class="title-deco mb-5" [simple]="true" [titolo]="Pay.I18n.json.DettaglioServizio.Form.Titolo"></pay-title-deco>
      <json-schema-form #jsf [options]="_formOptions" [framework]="'material-design'" [schema]="_jsonSchema" [data]="_jsonData" [UISchema]="_jsonUISchema"
                        [layout]="_jsonLayout" (isValid)="_isValid($event)"></json-schema-form>
      <div class="mt-5">
        <button mat-flat-button [color]="'accent'" (click)="_generaPendenza(jsf, true)" [disabled]="!_jsFormValid" *ngIf="_decodedForm.detail['requireUserConfirm']">
          {{ Pay.I18n.json.DettaglioServizio.Form.Verifica }}
        </button>
        <button mat-flat-button [color]="'accent'" (click)="_generaPendenza(jsf, false)" [disabled]="!_jsFormValid" *ngIf="!_decodedForm?.detail['requireUserConfirm']">
          {{ Pay.EditMode?Pay.I18n.json.DettaglioServizio.Form.Salva:Pay.I18n.json.DettaglioServizio.Dialog.Submit }}
        </button>
      </div>
    </div>
  </div>
</div>
